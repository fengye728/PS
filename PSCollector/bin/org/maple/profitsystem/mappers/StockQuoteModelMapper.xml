<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.maple.profitsystem.mappers.StockQuoteModelMapper">
  <resultMap id="BaseResultMap" type="org.maple.profitsystem.models.StockQuoteModel">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Sep 15 15:30:45 CST 2017.
    -->
    <result column="id" jdbcType="BIGINT" property="id" />
    <result column="company_id" jdbcType="BIGINT" property="companyId" />
    <result column="quote_date" jdbcType="INTEGER" property="quoteDate" />
    <result column="open" jdbcType="DOUBLE" property="open" />
    <result column="close" jdbcType="DOUBLE" property="close" />
    <result column="high" jdbcType="DOUBLE" property="high" />
    <result column="low" jdbcType="DOUBLE" property="low" />
    <result column="volume" jdbcType="INTEGER" property="volume" />
  </resultMap>
  <insert id="insert" keyColumn="id" keyProperty="id" parameterType="org.maple.profitsystem.models.StockQuoteModel" useGeneratedKeys="true">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Sep 15 15:30:45 CST 2017.
    -->
    insert into stock_quote (company_id, quote_date, open, 
      close, high, low, volume
      )
    values (#{companyId,jdbcType=BIGINT}, #{quoteDate,jdbcType=INTEGER}, #{open,jdbcType=DOUBLE}, 
      #{close,jdbcType=DOUBLE}, #{high,jdbcType=DOUBLE}, #{low,jdbcType=DOUBLE}, #{volume,jdbcType=INTEGER}
      )
  </insert>
  <insert id="insertSelective" keyColumn="id" keyProperty="id" parameterType="org.maple.profitsystem.models.StockQuoteModel" useGeneratedKeys="true">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Sep 15 15:30:45 CST 2017.
    -->
    insert into stock_quote
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="companyId != null">
        company_id,
      </if>
      <if test="quoteDate != null">
        quote_date,
      </if>
      <if test="open != null">
        open,
      </if>
      <if test="close != null">
        close,
      </if>
      <if test="high != null">
        high,
      </if>
      <if test="low != null">
        low,
      </if>
      <if test="volume != null">
        volume,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="companyId != null">
        #{companyId,jdbcType=BIGINT},
      </if>
      <if test="quoteDate != null">
        #{quoteDate,jdbcType=INTEGER},
      </if>
      <if test="open != null">
        #{open,jdbcType=DOUBLE},
      </if>
      <if test="close != null">
        #{close,jdbcType=DOUBLE},
      </if>
      <if test="high != null">
        #{high,jdbcType=DOUBLE},
      </if>
      <if test="low != null">
        #{low,jdbcType=DOUBLE},
      </if>
      <if test="volume != null">
        #{volume,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  
  <select id="selectListByCompanyId" resultMap="BaseResultMap">
  	SELECT *
  	FROM stock_quote
  	WHERE company_id = #{companyId,jdbcType=BIGINT}
  </select>
  
  <insert id="insertList" keyColumn="id" keyProperty="id" useGeneratedKeys="true">
  	INSERT INTO stock_quote(company_id, quote_date, open, 
      close, high, low, volume
      )
  	VALUES
  	<foreach item="item" collection="list" separator=",">
  		(
  		#{item.companyId,jdbcType=BIGINT}, 
  		#{item.quoteDate,jdbcType=INTEGER}, 
  		#{item.open,jdbcType=DOUBLE}, 
      	#{item.close,jdbcType=DOUBLE}, 
      	#{item.high,jdbcType=DOUBLE}, 
      	#{item.low,jdbcType=DOUBLE}, 
      	#{item.volume,jdbcType=INTEGER}
      )
  	</foreach>
  </insert>
</mapper>